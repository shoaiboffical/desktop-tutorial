{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\fiverr-clone\\\\client\\\\src\\\\pages\\\\success\\\\Success.jsx\",\n  _s = $RefreshSig$();\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport './success.scss';\nimport { useEffect } from 'react';\nimport newRequest from '../../utils/newRequest';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Success = () => {\n  _s();\n  const {\n    search\n  } = useLocation();\n  const navigate = useNavigate();\n  const params = new URLSearchParams(search);\n  const payment_intent = params.get('payment_intent');\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        console.log(payment_intent);\n        await newRequest.put('/Orders', {\n          payment_intent\n        });\n        setTimeout(() => {\n          navigate(\"Orders\");\n        }, 5000);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    makeRequest();\n  }, []);\n  return [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cm\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: \"images/successfully-done.gif\",\n      alt: \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 11\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"success\",\n    children: [\"payment successfulYou are being redirected to the order page.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 74\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 8\n  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"close\",\n    children: \"please do not close page\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 10\n  }, this)];\n};\n_s(Success, \"yZwDzG26HKSTCA92+p0F9RaDdcI=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Success;\nexport default Success;\n// import React, { useEffect } from 'react';\n// import { useLocation, useNavigate } from 'react-router-dom';\n// import newRequest from '../../utils/newRequest';\n// import './success.scss';\n\n// const Success = () => {\n//   const { search } = useLocation();\n//   const navigate = useNavigate();\n//   const params = new URLSearchParams(search);\n//   const paymentIntent = params.get('payment_intent');\n\n//   useEffect(() => {\n//     const makeRequest = async () => {\n//       try {\n//         if (!paymentIntent) {\n//           throw new Error('Payment intent not found');\n//         }\n\n//         // This assumes your endpoint is correctly set up to receive POST requests\n//         const response = await newRequest.post('/order/intent', {\n//           ethTransactionId: paymentIntent,\n//           id: \"6626a89578e22eaaec83fb5d\" // Make sure to pass the correct gig ID\n//         });\n//         const data = await response.json();\n\n//         // Navigate to the order details page with the newly created order ID\n//         navigate(`/Orders/${data.order._id}`);\n//       } catch (error) {\n//         console.error('Error creating order:', error);\n//       }\n//     }\n\n//     makeRequest();\n//   }, [navigate, paymentIntent]);\n\n//   return (\n//     <>\n//       <div className=\"cm\">\n//         <img src=\"images/successfully-done.gif\" alt=\"Transaction Completed Successfully\" />\n//       </div>\n//       <div className='success'>\n//         Payment successful! You are being redirected to your order.<br></br>\n//       </div>\n//       <span className='close'>Please do not close this page.</span>\n//     </>\n//   );\n// }\n\n// export default Success;\nvar _c;\n$RefreshReg$(_c, \"Success\");","map":{"version":3,"names":["useLocation","useNavigate","useEffect","newRequest","jsxDEV","_jsxDEV","Success","_s","search","navigate","params","URLSearchParams","payment_intent","get","makeRequest","console","log","put","setTimeout","error","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/project/fiverr-clone/client/src/pages/success/Success.jsx"],"sourcesContent":["import { useLocation, useNavigate } from 'react-router-dom';\r\nimport './success.scss'\r\nimport { useEffect } from 'react';\r\nimport newRequest from '../../utils/newRequest';\r\nconst Success = () => {\r\n    const { search } = useLocation();\r\n    const navigate = useNavigate();\r\n    const params = new URLSearchParams(search);\r\n    const payment_intent = params.get('payment_intent');\r\n    useEffect(() => {\r\n        const makeRequest = async () => {\r\n            try {\r\n                console.log(payment_intent);\r\n                await newRequest.put('/Orders', { payment_intent });\r\n                setTimeout(() => {\r\n                    navigate(\"Orders\");\r\n                }, 5000);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        makeRequest();\r\n    }, []);\r\n    return (\r\n       [  <div className=\"cm\">\r\n      <img src=\"images/successfully-done.gif\" alt=\"\" />\r\n       </div>,\r\n       <div className='success'>\r\n            payment successfulYou are being redirected to the order page.<br></br>\r\n        </div>,\r\n         <span className='close'>please do not close page</span>]\r\n    );\r\n}\r\nexport default Success;\r\n// import React, { useEffect } from 'react';\r\n// import { useLocation, useNavigate } from 'react-router-dom';\r\n// import newRequest from '../../utils/newRequest';\r\n// import './success.scss';\r\n\r\n// const Success = () => {\r\n//   const { search } = useLocation();\r\n//   const navigate = useNavigate();\r\n//   const params = new URLSearchParams(search);\r\n//   const paymentIntent = params.get('payment_intent');\r\n\r\n//   useEffect(() => {\r\n//     const makeRequest = async () => {\r\n//       try {\r\n//         if (!paymentIntent) {\r\n//           throw new Error('Payment intent not found');\r\n//         }\r\n\r\n//         // This assumes your endpoint is correctly set up to receive POST requests\r\n//         const response = await newRequest.post('/order/intent', {\r\n//           ethTransactionId: paymentIntent,\r\n//           id: \"6626a89578e22eaaec83fb5d\" // Make sure to pass the correct gig ID\r\n//         });\r\n//         const data = await response.json();\r\n\r\n//         // Navigate to the order details page with the newly created order ID\r\n//         navigate(`/Orders/${data.order._id}`);\r\n//       } catch (error) {\r\n//         console.error('Error creating order:', error);\r\n//       }\r\n//     }\r\n\r\n//     makeRequest();\r\n//   }, [navigate, paymentIntent]);\r\n\r\n//   return (\r\n//     <>\r\n//       <div className=\"cm\">\r\n//         <img src=\"images/successfully-done.gif\" alt=\"Transaction Completed Successfully\" />\r\n//       </div>\r\n//       <div className='success'>\r\n//         Payment successful! You are being redirected to your order.<br></br>\r\n//       </div>\r\n//       <span className='close'>Please do not close this page.</span>\r\n//     </>\r\n//   );\r\n// }\r\n\r\n// export default Success;\r\n"],"mappings":";;AAAA,SAASA,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAO,gBAAgB;AACvB,SAASC,SAAS,QAAQ,OAAO;AACjC,OAAOC,UAAU,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAChD,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM;IAAEC;EAAO,CAAC,GAAGR,WAAW,CAAC,CAAC;EAChC,MAAMS,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAMS,MAAM,GAAG,IAAIC,eAAe,CAACH,MAAM,CAAC;EAC1C,MAAMI,cAAc,GAAGF,MAAM,CAACG,GAAG,CAAC,gBAAgB,CAAC;EACnDX,SAAS,CAAC,MAAM;IACZ,MAAMY,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACAC,OAAO,CAACC,GAAG,CAACJ,cAAc,CAAC;QAC3B,MAAMT,UAAU,CAACc,GAAG,CAAC,SAAS,EAAE;UAAEL;QAAe,CAAC,CAAC;QACnDM,UAAU,CAAC,MAAM;UACbT,QAAQ,CAAC,QAAQ,CAAC;QACtB,CAAC,EAAE,IAAI,CAAC;MACZ,CAAC,CAAC,OAAOU,KAAK,EAAE;QACZJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC;MACtB;IACJ,CAAC;IACDL,WAAW,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EACN,OACG,cAAGT,OAAA;IAAKe,SAAS,EAAC,IAAI;IAAAC,QAAA,eACvBhB,OAAA;MAAKiB,GAAG,EAAC,8BAA8B;MAACC,GAAG,EAAC;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC3C,CAAC,eACNtB,OAAA;IAAKe,SAAS,EAAC,SAAS;IAAAC,QAAA,GAAC,+DACyC,eAAAhB,OAAA;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrE,CAAC,eACLtB,OAAA;IAAMe,SAAS,EAAC,OAAO;IAAAC,QAAA,EAAC;EAAwB;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC,CAAC;AAEjE,CAAC;AAAApB,EAAA,CA5BKD,OAAO;EAAA,QACUN,WAAW,EACbC,WAAW;AAAA;AAAA2B,EAAA,GAF1BtB,OAAO;AA6Bb,eAAeA,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}