{"ast":null,"code":"var _jsxFileName = \"C:\\\\project\\\\fiverr-clone\\\\client\\\\src\\\\pages\\\\pay\\\\Pay.jsx\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState } from \"react\";\nimport React from \"react\";\nimport \"./pay.scss\";\nimport { ethers } from 'ethers';\n\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n// import newRequest from \"../../utils/newRequest\";\n// import { useParams } from \"react-router-dom\";\n// import CheckoutForm from \"../../components/checkOutForm/CheckOutForm\";\n\nimport { Slider } from \"infinite-react-carousel\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport newRequest from \"../../utils/newRequest\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Reviews from \"../../components/reviews/Reviews\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Pay = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  // console.log(id);\n  const {\n    data\n  } = useQuery({\n    queryKey: ['gig'],\n    queryFn: () => newRequest.get(`/gigs/single/${id}`).then(res => {\n      return res.data;\n    })\n  });\n  const userId = data === null || data === void 0 ? void 0 : data.userId;\n  const {\n    data: dataUser\n  } = useQuery({\n    queryKey: ['user'],\n    queryFn: () => newRequest.get(`/users/${userId}`).then(res => {\n      return res.data;\n    }),\n    enabled: !!userId\n  });\n  console.log(\"------------>>>>>>>>>>-------\");\n  console.log(\"User's Wallet Address:\", dataUser === null || dataUser === void 0 ? void 0 : dataUser.username);\n  console.log(\"User's Wallet Address:\", dataUser === null || dataUser === void 0 ? void 0 : dataUser.wallet_address);\n  console.log(\"Gig's Title:\", data === null || data === void 0 ? void 0 : data.price);\n  const requestAccounts = async () => {\n    try {\n      // Example of requesting user accounts\n      const accounts = await window.ethereum.request({\n        method: 'eth_requestAccounts'\n      });\n      console.log(accounts); // Do something with the accounts\n\n      // If you're sending a transaction, ensure this is in response to a user action\n\n      const transactionParameters = {\n        from: accounts,\n        to: dataUser === null || dataUser === void 0 ? void 0 : dataUser.wallet_address,\n        gas: \"0x76c0\",\n        // 30400\n        gasPrice: \"0x9184e72a000\",\n        // 10000000000000\n        value: data === null || data === void 0 ? void 0 : data.price,\n        // 2441406250\n        data: \"0xd46e8dd67c5d32be8d46e8dd67c5d32be8058bb8eb970870f072445675058bb8eb970870f072445675\"\n      };\n      const txHash = await window.ethereum.request({\n        method: 'eth_sendTransaction',\n        params: [transactionParameters]\n      });\n      console.log(txHash); // Use the transaction hash as needed\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  requestAccounts();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pay\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 10\n  }, this);\n};\n_s(Pay, \"PlJgDT74TCCJZToBrcFGGTmSkKw=\", false, function () {\n  return [useParams, useQuery, useQuery];\n});\n_c = Pay;\nexport default Pay;\nvar _c;\n$RefreshReg$(_c, \"Pay\");","map":{"version":3,"names":["React","ethers","Slider","useQuery","newRequest","Link","useParams","Reviews","jsxDEV","_jsxDEV","Pay","_s","id","data","queryKey","queryFn","get","then","res","userId","dataUser","enabled","console","log","username","wallet_address","price","requestAccounts","accounts","window","ethereum","request","method","transactionParameters","from","to","gas","gasPrice","value","txHash","params","error","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/project/fiverr-clone/client/src/pages/pay/Pay.jsx"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\nimport React from \"react\";\r\nimport \"./pay.scss\";\r\nimport {ethers} from 'ethers';\r\n\r\n// import { loadStripe } from \"@stripe/stripe-js\";\r\n// import { Elements } from \"@stripe/react-stripe-js\";\r\n// import newRequest from \"../../utils/newRequest\";\r\n// import { useParams } from \"react-router-dom\";\r\n// import CheckoutForm from \"../../components/checkOutForm/CheckOutForm\";\r\n\r\nimport { Slider } from \"infinite-react-carousel\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport newRequest from \"../../utils/newRequest\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport Reviews from \"../../components/reviews/Reviews\";\r\n\r\n\r\nconst Pay = () => {\r\n\r\n  const { id } = useParams();\r\n  // console.log(id);\r\n  const { data } = useQuery({\r\n      queryKey: ['gig'],\r\n      queryFn: () =>\r\n          newRequest.get(`/gigs/single/${id}`)\r\n              .then((res) => {\r\n                  return res.data;\r\n              })\r\n  });\r\n  const userId=data?.userId;\r\n  const {  data: dataUser } = useQuery({\r\n      queryKey: ['user'],\r\n      queryFn: () =>\r\n          newRequest.get(`/users/${userId}`)\r\n              .then((res) => {\r\n                  return res.data;    \r\n              }),enabled:!!userId,\r\n  });\r\n  console.log(\"------------>>>>>>>>>>-------\");\r\n   \r\n   console.log(\"User's Wallet Address:\", dataUser?.username);\r\n   console.log(\"User's Wallet Address:\", dataUser?.wallet_address);\r\n\r\nconsole.log(\"Gig's Title:\", data?.price);\r\nconst requestAccounts = async () => {\r\n  try {\r\n    // Example of requesting user accounts\r\n    const accounts = await window.ethereum.request({\r\n      method: 'eth_requestAccounts'\r\n    });\r\n    console.log(accounts); // Do something with the accounts\r\n\r\n    // If you're sending a transaction, ensure this is in response to a user action\r\n    \r\n    const transactionParameters = {\r\n      from: accounts,\r\n      to: dataUser?.wallet_address,\r\n      gas: \"0x76c0\", // 30400\r\n      gasPrice: \"0x9184e72a000\", // 10000000000000\r\n      value: data?.price, // 2441406250\r\n      data: \"0xd46e8dd67c5d32be8d46e8dd67c5d32be8058bb8eb970870f072445675058bb8eb970870f072445675\",\r\n    };\r\n\r\n    const txHash = await window.ethereum.request({\r\n      method: 'eth_sendTransaction',\r\n      params: [transactionParameters],\r\n    });\r\n    console.log(txHash); // Use the transaction hash as needed\r\n   \r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nrequestAccounts();\r\n  return <div className=\"pay\">\r\n    {/* {clientSecret && (\r\n        <Elements options={options} stripe={stripePromise}>\r\n          <CheckoutForm />\r\n        </Elements>\r\n      )} */}\r\n \r\n  \r\n    \r\n      \r\n  </div>;\r\n};\r\n\r\nexport default Pay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}